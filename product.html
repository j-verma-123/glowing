<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Glowing - Reveal The Beauty of Skin</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Urbanist:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Urbanist", sans-serif;
        background: #fff;
        color: #333;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* Header - Exact from index.html */
      .header {
        position: sticky;
        top: 0;
        background: #fff;
        z-index: 100;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .alert {
        background: #000;
        color: #fff;
        text-align: center;
        padding: 10px;
      }

      .alert-text {
        font-size: 14px;
      }

      .header-top {
        padding: 20px 0;
      }

      .header-top .container {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 30px;
      }

      .nav-open-btn {
        display: none;
        background: none;
        border: none;
        cursor: pointer;
        flex-direction: column;
        gap: 4px;
      }

      .line {
        width: 25px;
        height: 3px;
        background: #333;
      }

      .input-wrapper {
        position: relative;
        flex: 1;
        max-width: 400px;
      }

      .search-field {
        width: 100%;
        padding: 12px 45px 12px 15px;
        border: 2px solid #e0e0e0;
        border-radius: 25px;
        font-family: "Urbanist", sans-serif;
        font-size: 14px;
      }

      .search-submit {
        position: absolute;
        right: 5px;
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        cursor: pointer;
        font-size: 20px;
        color: #666;
      }

      .logo {
        display: flex;
        align-items: center;
      }

      .logo img {
        height: 26px;
      }

      .header-actions {
        display: flex;
        gap: 20px;
        align-items: center;
      }

      .header-action-btn {
        background: none;
        border: none;
        cursor: pointer;
        position: relative;
        font-size: 24px;
        color: #333;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .btn-badge {
        position: absolute;
        top: -8px;
        right: -8px;
        background: #e85d75;
        color: #fff;
        border-radius: 50%;
        width: 20px;
        height: 20px;
        font-size: 11px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
      }

      .btn-text {
        font-size: 14px;
        font-weight: 600;
        color: #333;
      }

      .navbar {
        display: block;
      }

      .navbar-list {
        display: flex;
        list-style: none;
        gap: 35px;
      }

      .navbar-link {
        text-decoration: none;
        color: #333;
        font-weight: 600;
        font-size: 15px;
        transition: color 0.3s;
        position: relative;
      }

      .navbar-link.has-after::after {
        content: "";
        position: absolute;
        bottom: -5px;
        left: 0;
        width: 0;
        height: 2px;
        background: #e85d75;
        transition: width 0.3s;
      }

      .navbar-link:hover {
        color: #e85d75;
      }

      .navbar-link:hover.has-after::after {
        width: 100%;
      }

      /* Mobile navbar */
      .sidebar {
        position: fixed;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        z-index: 200;
        transition: left 0.3s;
      }

      .sidebar.active {
        left: 0;
      }

      .mobile-navbar {
        position: absolute;
        top: 0;
        left: 0;
        width: 280px;
        height: 100%;
        background: #fff;
        padding: 30px;
        transform: translateX(-100%);
        transition: transform 0.3s;
        z-index: 201;
      }

      .sidebar.active .mobile-navbar {
        transform: translateX(0);
      }

      .wrapper {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
      }

      .nav-close-btn {
        background: none;
        border: none;
        font-size: 28px;
        cursor: pointer;
      }

      .mobile-navbar .navbar-list {
        flex-direction: column;
        gap: 0;
      }

      .mobile-navbar .navbar-link {
        padding: 15px 0;
        display: block;
        border-bottom: 1px solid #eee;
      }

      .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s;
        z-index: 200;
      }

      .sidebar.active .overlay {
        opacity: 1;
        pointer-events: all;
      }

      /* Page Container */
      .page-container {
        min-height: 100vh;
        padding: 40px 0;
      }

      /* Product Grid */
      .has-scrollbar {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 30px;
        list-style: none;
      }

      .shop-card {
        background: #fff;
        border-radius: 10px;
        overflow: hidden;
        transition: transform 0.3s;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .shop-card:hover {
        transform: translateY(-5px);
      }

      .card-banner {
        position: relative;
        overflow: hidden;
        aspect-ratio: 3/4;
      }

      .img-holder {
        position: relative;
      }

      .img-cover {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .badge {
        position: absolute;
        top: 15px;
        left: 15px;
        background: #e85d75;
        color: #fff;
        padding: 5px 15px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
      }

      .card-actions {
        position: absolute;
        bottom: 20px;
        right: 20px;
        display: flex;
        flex-direction: column;
        gap: 10px;
        opacity: 0;
        transition: opacity 0.3s;
      }

      .shop-card:hover .card-actions {
        opacity: 1;
      }

      .action-btn {
        background: #fff;
        border: none;
        width: 45px;
        height: 45px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        transition: all 0.3s;
        font-size: 20px;
      }

      .action-btn:hover {
        background: #e85d75;
        color: #fff;
      }

      .card-content {
        padding: 20px;
      }

      .price {
        display: flex;
        gap: 10px;
        align-items: center;
        margin-bottom: 10px;
      }

      .price .del {
        color: #999;
        font-size: 14px;
      }

      .price .span {
        color: #e85d75;
        font-weight: 700;
        font-size: 20px;
      }

      .card-title {
        color: #333;
        text-decoration: none;
        font-size: 16px;
        font-weight: 600;
        display: block;
        margin-bottom: 10px;
        cursor: pointer;
      }

      .card-title:hover {
        color: #e85d75;
      }

      .card-rating {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .rating-wrapper {
        display: flex;
        gap: 2px;
        color: #ffc107;
        font-size: 14px;
      }

      .rating-text {
        font-size: 13px;
        color: #999;
      }

      .btn-primary {
        background: #e85d75;
        color: #fff;
        border: none;
        padding: 12px 30px;
        border-radius: 25px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        text-decoration: none;
        display: inline-block;
        font-size: 15px;
      }

      .btn-primary:hover {
        background: #d14d65;
        transform: translateY(-2px);
      }

      /* Sections */
      .section {
        padding: 60px 0;
      }

      .title-wrapper {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 40px;
      }

      .h2 {
        font-size: 32px;
        font-weight: 700;
      }

      .section-title {
        font-size: 36px;
        margin-bottom: 30px;
      }

      .btn-link {
        display: flex;
        align-items: center;
        gap: 8px;
        text-decoration: none;
        color: #333;
        font-weight: 600;
        transition: color 0.3s;
      }

      .btn-link:hover {
        color: #e85d75;
      }

      /* Product Detail Page */
      .product-detail {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 60px;
        margin-top: 40px;
      }

      .product-images {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      .main-image {
        width: 100%;
        aspect-ratio: 3/4;
        border-radius: 15px;
        overflow: hidden;
      }

      .main-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .product-info h1 {
        font-size: 36px;
        margin-bottom: 20px;
      }

      .product-price {
        font-size: 32px;
        color: #e85d75;
        font-weight: 700;
        margin-bottom: 20px;
      }

      .product-description {
        line-height: 1.8;
        margin-bottom: 30px;
        color: #666;
      }

      .quantity-selector {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 30px;
      }

      .quantity-btn {
        width: 40px;
        height: 40px;
        border: 2px solid #ddd;
        background: #fff;
        border-radius: 5px;
        cursor: pointer;
        font-size: 20px;
        transition: all 0.3s;
      }

      .quantity-btn:hover {
        border-color: #e85d75;
        color: #e85d75;
      }

      .quantity-value {
        font-size: 20px;
        font-weight: 600;
        min-width: 40px;
        text-align: center;
      }

      /* Cart Page */
      .cart-container {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: 40px;
        margin-top: 40px;
      }

      .cart-items {
        background: #f9f9f9;
        padding: 30px;
        border-radius: 15px;
      }

      .cart-item {
        display: grid;
        grid-template-columns: 120px 1fr auto;
        gap: 20px;
        padding: 20px;
        background: #fff;
        border-radius: 10px;
        margin-bottom: 20px;
      }

      .toast {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: #e85d75;
        color: #fff;
        padding: 15px 25px;
        border-radius: 8px;
        font-weight: 600;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.3s, transform 0.3s;
        z-index: 9999;
      }

      .toast.show {
        opacity: 1;
        transform: translateY(0);
      }

      .toast.hidden {
        display: none;
      }

      .cart-item-image {
        width: 120px;
        height: 160px;
        border-radius: 10px;
        overflow: hidden;
      }

      .cart-item-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .cart-item-info h3 {
        margin-bottom: 10px;
      }

      .cart-item-price {
        color: #e85d75;
        font-weight: 700;
        font-size: 20px;
      }

      .cart-summary {
        background: #f9f9f9;
        padding: 30px;
        border-radius: 15px;
        height: fit-content;
        position: sticky;
        top: 120px;
      }

      .summary-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 15px;
        padding-bottom: 15px;
        border-bottom: 1px solid #ddd;
      }

      .summary-total {
        font-size: 24px;
        font-weight: 700;
        color: #e85d75;
      }

      .remove-btn {
        background: #ff4444;
        color: #fff;
        border: none;
        padding: 8px 20px;
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.3s;
      }

      .remove-btn:hover {
        background: #cc0000;
      }

      .empty-cart {
        text-align: center;
        padding: 60px 20px;
      }

      .empty-cart h2 {
        margin-bottom: 20px;
        color: #666;
      }

      .back-btn {
        background: #333;
        color: #fff;
        border: none;
        padding: 12px 30px;
        border-radius: 25px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        text-decoration: none;
        display: inline-block;
        margin-bottom: 20px;
      }

      .back-btn:hover {
        background: #555;
      }

      @media (max-width: 992px) {
        .navbar {
          display: none;
        }

        .nav-open-btn {
          display: flex;
        }

        .input-wrapper {
          order: 3;
          flex-basis: 100%;
        }
      }

      @media (max-width: 768px) {
        .product-detail,
        .cart-container {
          grid-template-columns: 1fr;
        }

        .has-scrollbar {
          grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        }
      }

      .hidden {
        display: none;
      }
    </style>
  </head>

  <body id="top">
    <header class="header">
      <div class="alert">
        <div class="container">
          <p class="alert-text">Free Shipping On All U.S. Orders $50+</p>
        </div>
      </div>

      <div class="header-top" data-header>
        <div class="container">
          <button
            class="nav-open-btn"
            aria-label="open menu"
            onclick="toggleNav()"
          >
            <span class="line line-1"></span>
            <span class="line line-2"></span>
            <span class="line line-3"></span>
          </button>

          <div class="input-wrapper">
            <input
              type="search"
              name="search"
              placeholder="Search product"
              class="search-field"
            />
            <button class="search-submit" aria-label="search">
              <ion-icon name="search-outline" aria-hidden="true"></ion-icon>
            </button>
          </div>

          <a href="index.html" class="logo">
            <img
              src="./assets/images/logo.png"
              width="179"
              height="26"
              alt="Glowing"
            />
          </a>

          <div class="header-actions">
            <button class="header-action-btn" aria-label="user">
              <ion-icon name="person-outline" aria-hidden="true"></ion-icon>
            </button>

            <button class="header-action-btn" aria-label="favourite item">
              <ion-icon name="star-outline" aria-hidden="true"></ion-icon>
              <span class="btn-badge">0</span>
            </button>

            <button
              class="header-action-btn"
              aria-label="cart item"
              onclick="showPage('cart')"
            >
              <data class="btn-text" id="cart-total">$0.00</data>
              <ion-icon name="bag-handle-outline" aria-hidden="true"></ion-icon>
              <span class="btn-badge" id="cart-count">0</span>
            </button>
          </div>

          <nav class="navbar">
            <ul class="navbar-list">
              <li>
                <a
                  href="#home"
                  class="navbar-link has-after"
                  onclick="showPage('home'); return false;"
                  >Home</a
                >
              </li>
              <li>
                <a
                  href="#collection"
                  class="navbar-link has-after"
                  onclick="showPage('home'); return false;"
                  >Collection</a
                >
              </li>
              <li>
                <a
                  href="#shop"
                  class="navbar-link has-after"
                  onclick="showPage('home'); return false;"
                  >Shop</a
                >
              </li>
              <li>
                <a
                  href="#offer"
                  class="navbar-link has-after"
                  onclick="showPage('home'); return false;"
                  >Offer</a
                >
              </li>
              <li>
                <a
                  href="#blog"
                  class="navbar-link has-after"
                  onclick="showPage('home'); return false;"
                  >Blog</a
                >
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </header>

    <!-- MOBILE NAVBAR -->
    <div class="sidebar" id="sidebar">
      <div class="mobile-navbar" data-navbar>
        <div class="wrapper">
          <a
            href="#"
            class="logo"
            onclick="showPage('home'); toggleNav(); return false;"
          >
            <img
              src="https://via.placeholder.com/179x26/e85d75/ffffff?text=Glowing"
              width="179"
              height="26"
              alt="Glowing"
            />
          </a>
          <button
            class="nav-close-btn"
            aria-label="close menu"
            onclick="toggleNav()"
          >
            <ion-icon name="close-outline" aria-hidden="true"></ion-icon>
          </button>
        </div>

        <ul class="navbar-list">
          <li>
            <a
              href="#home"
              class="navbar-link"
              onclick="showPage('home'); toggleNav(); return false;"
              >Home</a
            >
          </li>
          <li>
            <a
              href="#collection"
              class="navbar-link"
              onclick="showPage('home'); toggleNav(); return false;"
              >Collection</a
            >
          </li>
          <li>
            <a
              href="#shop"
              class="navbar-link"
              onclick="showPage('home'); toggleNav(); return false;"
              >Shop</a
            >
          </li>
          <li>
            <a
              href="#offer"
              class="navbar-link"
              onclick="showPage('home'); toggleNav(); return false;"
              >Offer</a
            >
          </li>
          <li>
            <a
              href="#blog"
              class="navbar-link"
              onclick="showPage('home'); toggleNav(); return false;"
              >Blog</a
            >
          </li>
        </ul>
      </div>

      <div class="overlay" onclick="toggleNav()"></div>
    </div>

    <main class="page-container">
      <!-- HOME PAGE -->
      <div id="home-page">
        <section class="section shop" id="shop" aria-label="shop">
          <div class="container">
            <div class="title-wrapper">
              <h2 class="h2 section-title">Our Bestsellers</h2>
              <a href="#" class="btn-link">
                <span class="span">Shop All Products</span>
                <ion-icon name="arrow-forward" aria-hidden="true"></ion-icon>
              </a>
            </div>

            <ul class="has-scrollbar" id="bestsellers-grid"></ul>
          </div>
        </section>

        <section class="section shop" aria-label="shop">
          <div class="container">
            <div class="title-wrapper">
              <h2 class="h2 section-title">Under $25</h2>
              <a href="#" class="btn-link">
                <span class="span">Shop All Products</span>
                <ion-icon name="arrow-forward" aria-hidden="true"></ion-icon>
              </a>
            </div>

            <ul class="has-scrollbar" id="under25-grid"></ul>
          </div>
        </section>
      </div>

      <!-- PRODUCT DETAIL PAGE -->
      <div id="product-page" class="container hidden">
        <a href="#" class="back-btn" onclick="showPage('home'); return false;"
          >&larr; Back to Shop</a
        >
        <div class="product-detail" id="product-detail"></div>
      </div>

      <!-- CART PAGE -->
      <div id="cart-page" class="container hidden">
        <a href="#" class="back-btn" onclick="showPage('home'); return false;"
          >&larr; Continue Shopping</a
        >
        <h1 class="section-title">Shopping Cart</h1>
        <div id="cart-content"></div>
      </div>
    </main>
    <div id="toast" class="toast hidden"></div>

    <script
      type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
    ></script>

    <script>
      // All products from index.html
      const products = [
        {
          id: 1,
          name: "Facial cleanser",
          price: 29.0,
          originalPrice: 39.0,
          image:
            "https://images.unsplash.com/photo-1556228720-195a672e8a03?w=400",
          description:
            "Made using clean, non-toxic ingredients, our facial cleanser is designed for all skin types.",
          reviews: 5170,
          category: "bestseller",
        },
        {
          id: 2,
          name: "Bio-shroom Rejuvenating Serum",
          price: 29.0,
          image:
            "https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=400",
          description:
            "Powerful rejuvenating serum with bio-shroom extract for youthful, glowing skin.",
          reviews: 5170,
          category: "bestseller",
        },
        {
          id: 3,
          name: "Coffee Bean Caffeine Eye Cream",
          price: 29.0,
          image:
            "https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?w=400",
          description:
            "Reduce puffiness and dark circles with our coffee-infused eye cream.",
          reviews: 5170,
          category: "bestseller",
        },
        {
          id: 5,
          name: "Coffee Bean Caffeine Eye Cream",
          price: 29.0,
          originalPrice: 39.0,
          image:
            "https://images.unsplash.com/photo-1611930022073-b7a4ba5fcccd?w=400",
          description:
            "Brighten and revitalize tired eyes with natural caffeine.",
          reviews: 5170,
          category: "bestseller",
        },
        {
          id: 6,
          name: "Facial cleanser",
          price: 29.0,
          image:
            "https://images.unsplash.com/photo-1571875257727-256c39da42af?w=400",
          description:
            "Gentle yet effective daily cleanser for all skin types.",
          reviews: 5170,
          category: "bestseller",
        },
        {
          id: 7,
          name: "Facial cleanser",
          price: 24.0,
          originalPrice: 39.0,
          image:
            "https://images.unsplash.com/photo-1556228720-da4e85f25e15?w=400",
          description: "Affordable luxury skincare for everyday use.",
          reviews: 5170,
          category: "under25",
        },
        {
          id: 8,
          name: "Bio-shroom Rejuvenating Serum",
          price: 24.0,
          image:
            "https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=400",
          description: "Budget-friendly rejuvenation in a bottle.",
          reviews: 5170,
          category: "under25",
        },
        {
          id: 9,
          name: "Coffee Bean Caffeine Eye Cream",
          price: 24.0,
          image:
            "https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?w=400",
          description: "Energize your eyes without breaking the bank.",
          reviews: 5170,
          category: "under25",
        },
        {
          id: 11,
          name: "Coffee Bean Caffeine Eye Cream",
          price: 24.0,
          originalPrice: 39.0,
          image:
            "https://images.unsplash.com/photo-1611930022073-b7a4ba5fcccd?w=400",
          description: "Premium eye care that fits your budget.",
          reviews: 5170,
          category: "under25",
        },
        {
          id: 12,
          name: "Facial cleanser",
          price: 24.0,
          image:
            "https://images.unsplash.com/photo-1571875257727-256c39da42af?w=400",
          description: "Clean beauty for less.",
          reviews: 5170,
          category: "under25",
        },
      ];

      let cart = [];
      let currentQuantity = 1;

      // Initialize
      function init() {
        loadCart();
        renderProducts();
        updateCartUI();
      }

      // Toggle mobile nav
      function toggleNav() {
        document.getElementById("sidebar").classList.toggle("active");
      }

      // Show/Hide Pages
      function showPage(page) {
        document.getElementById("home-page").classList.add("hidden");
        document.getElementById("product-page").classList.add("hidden");
        document.getElementById("cart-page").classList.add("hidden");

        if (page === "home") {
          document.getElementById("home-page").classList.remove("hidden");
        } else if (page === "product") {
          document.getElementById("product-page").classList.remove("hidden");
        } else if (page === "cart") {
          document.getElementById("cart-page").classList.remove("hidden");
          renderCart();
        }

        window.scrollTo(0, 0);
      }

      // Render Products
      function renderProducts() {
        const bestsellers = products.filter((p) => p.category === "bestseller");
        const under25 = products.filter((p) => p.category === "under25");

        renderProductGrid("bestsellers-grid", bestsellers);
        renderProductGrid("under25-grid", under25);
      }

      function renderProductGrid(gridId, productList) {
        const grid = document.getElementById(gridId);
        grid.innerHTML = productList
          .map(
            (product) => `
                <li class="scrollbar-item">
                    <div class="shop-card">
                        <div class="card-banner img-holder" style="--width: 540; --height: 720">
                            <img src="${
                              product.image
                            }" width="540" height="720" loading="lazy" alt="${
              product.name
            }" class="img-cover" />
                            ${
                              product.originalPrice
                                ? `<span class="badge" aria-label="20% off">-${Math.round(
                                    (1 -
                                      product.price / product.originalPrice) *
                                      100
                                  )}%</span>`
                                : ""
                            }
                            <div class="card-actions">
                                <button class="action-btn" aria-label="add to cart" onclick="addToCart(${
                                  product.id
                                })">
                                    <ion-icon name="bag-handle-outline" aria-hidden="true"></ion-icon>
                                </button>
                                <button class="action-btn" aria-label="add to wishlist">
                                    <ion-icon name="star-outline" aria-hidden="true"></ion-icon>
                                </button>
                                <button class="action-btn" aria-label="compare">
                                    <ion-icon name="repeat-outline" aria-hidden="true"></ion-icon>
                                </button>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="price">
                                ${
                                  product.originalPrice
                                    ? `<del class="del">${product.originalPrice.toFixed(
                                        2
                                      )}</del>`
                                    : ""
                                }
                                <span class="span">${product.price.toFixed(
                                  2
                                )}</span>
                            </div>
                            <h3>
                                <a href="#" class="card-title" onclick="showProduct(${
                                  product.id
                                }); return false;">${product.name}</a>
                            </h3>
                            <div class="card-rating">
                                <div class="rating-wrapper" aria-label="5 star rating">
                                    <ion-icon name="star" aria-hidden="true"></ion-icon>
                                    <ion-icon name="star" aria-hidden="true"></ion-icon>
                                    <ion-icon name="star" aria-hidden="true"></ion-icon>
                                    <ion-icon name="star" aria-hidden="true"></ion-icon>
                                    <ion-icon name="star" aria-hidden="true"></ion-icon>
                                </div>
                                <p class="rating-text">${
                                  product.reviews
                                } reviews</p>
                            </div>
                        </div>
                    </div>
                </li>
            `
          )
          .join("");
      }

      // Show Product Detail
      function showProduct(id) {
        const product = products.find((p) => p.id === id);
        if (!product) return;

        const detail = document.getElementById("product-detail");
        detail.innerHTML = `
                <div class="product-images">
                    <div class="main-image">
                        <img src="${product.image}" alt="${product.name}" />
                    </div>
                </div>
                <div class="product-info">
                    <h1>${product.name}</h1>
                    <div class="card-rating" style="margin-bottom: 20px;">
                        <div class="rating-wrapper" aria-label="5 star rating">
                            <ion-icon name="star" aria-hidden="true"></ion-icon>
                            <ion-icon name="star" aria-hidden="true"></ion-icon>
                            <ion-icon name="star" aria-hidden="true"></ion-icon>
                            <ion-icon name="star" aria-hidden="true"></ion-icon>
                            <ion-icon name="star" aria-hidden="true"></ion-icon>
                        </div>
                        <p class="rating-text">${product.reviews} reviews</p>
                    </div>
                    <div class="product-price">${product.price.toFixed(2)} ${
          product.originalPrice
            ? `<del style="font-size: 24px; color: #999;">${product.originalPrice.toFixed(
                2
              )}</del>`
            : ""
        }</div>
                    <p class="product-description">${product.description}</p>
                    
                    <div class="quantity-selector">
                        <button class="quantity-btn" onclick="changeQuantity(-1)">-</button>
                        <span class="quantity-value" id="quantity">1</span>
                        <button class="quantity-btn" onclick="changeQuantity(1)">+</button>
                    </div>
                    
                    <button class="btn-primary" onclick="addToCartFromDetail(${
                      product.id
                    })" style="font-size: 18px; padding: 15px 40px;">
                        Add to Cart - ${product.price.toFixed(2)}
                    </button>
                </div>
            `;

        showPage("product");
      }

      function changeQuantity(delta) {
        currentQuantity = Math.max(1, currentQuantity + delta);
        document.getElementById("quantity").textContent = currentQuantity;
      }

      // Add to Cart
      function addToCart(productId) {
        const product = products.find((p) => p.id === productId);
        if (!product) return;

        const existingItem = cart.find((item) => item.id === productId);
        if (existingItem) {
          existingItem.quantity += 1;
        } else {
          cart.push({ ...product, quantity: 1 });
        }

        saveCart();
        updateCartUI();
        showToast(`${product.name} added to cart!`);
      }

      function addToCartFromDetail(productId) {
        const product = products.find((p) => p.id === productId);
        if (!product) return;

        const existingItem = cart.find((item) => item.id === productId);
        if (existingItem) {
          existingItem.quantity += currentQuantity;
        } else {
          cart.push({ ...product, quantity: currentQuantity });
        }

        currentQuantity = 1;
        saveCart();
        updateCartUI();
        showToast(`${product.name} added to cart!`);
      }

      // Update Cart UI
      function updateCartUI() {
        const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
        const totalPrice = cart.reduce(
          (sum, item) => sum + item.price * item.quantity,
          0
        );

        document.getElementById("cart-count").textContent = totalItems;
        document.getElementById(
          "cart-total"
        ).textContent = `${totalPrice.toFixed(2)}`;
      }

      // Render Cart
      function renderCart() {
        const content = document.getElementById("cart-content");

        if (cart.length === 0) {
          content.innerHTML = `
                    <div class="empty-cart">
                        <h2>Your cart is empty</h2>
                        <button class="btn-primary" onclick="showPage('home')">Start Shopping</button>
                    </div>
                `;
          return;
        }

        const subtotal = cart.reduce(
          (sum, item) => sum + item.price * item.quantity,
          0
        );
        const shipping = subtotal >= 50 ? 0 : 10;
        const total = subtotal + shipping;

        content.innerHTML = `
                <div class="cart-container">
                    <div class="cart-items">
                        <h2 style="margin-bottom: 20px;">Cart Items</h2>
                        ${cart
                          .map(
                            (item, index) => `
                            <div class="cart-item">
                                <div class="cart-item-image">
                                    <img src="${item.image}" alt="${
                              item.name
                            }" />
                                </div>
                                <div class="cart-item-info">
                                    <h3>${item.name}</h3>
                                    <p class="cart-item-price">${item.price.toFixed(
                                      2
                                    )}</p>
                                    <div class="quantity-selector" style="margin-top: 15px;">
                                        <button class="quantity-btn" onclick="updateCartQuantity(${index}, -1)">-</button>
                                        <span class="quantity-value">${
                                          item.quantity
                                        }</span>
                                        <button class="quantity-btn" onclick="updateCartQuantity(${index}, 1)">+</button>
                                    </div>
                                </div>
                                <div>
                                    <p style="font-weight: 700; font-size: 20px; margin-bottom: 15px;">${(
                                      item.price * item.quantity
                                    ).toFixed(2)}</p>
                                    <button class="remove-btn" onclick="removeFromCart(${index})">Remove</button>
                                </div>
                            </div>
                        `
                          )
                          .join("")}
                    </div>
                    
                    <div class="cart-summary">
                        <h2 style="margin-bottom: 20px;">Order Summary</h2>
                        <div class="summary-row">
                            <span>Subtotal:</span>
                            <span>${subtotal.toFixed(2)}</span>
                        </div>
                        <div class="summary-row">
                            <span>Shipping:</span>
                            <span>${
                              shipping === 0 ? "FREE" : shipping.toFixed(2)
                            }</span>
                        </div>
                        <div class="summary-row" style="border: none;">
                            <span class="summary-total">Total:</span>
                            <span class="summary-total">${total.toFixed(
                              2
                            )}</span>
                        </div>
                        <button class="btn-primary" style="width: 100%; margin-top: 20px; font-size: 18px;">
                            Proceed to Checkout
                        </button>
                        ${
                          subtotal < 50
                            ? `<p style="margin-top: 15px; font-size: 14px; color: #666;">Add ${(
                                50 - subtotal
                              ).toFixed(2)} more for free shipping!</p>`
                            : ""
                        }

                    </div>
                </div>
            `;
      }

      // Update Cart Quantity
      function updateCartQuantity(index, delta) {
        cart[index].quantity = Math.max(1, cart[index].quantity + delta);
        saveCart();
        updateCartUI();
        renderCart();
      }

      // Remove from Cart
      function removeFromCart(index) {
        cart.splice(index, 1);
        saveCart();
        updateCartUI();
        renderCart();
      }

      function showToast(message, duration = 2000) {
        const toast = document.getElementById("toast");
        toast.textContent = message;
        toast.classList.remove("hidden");
        toast.classList.add("show");

        // Hide after duration
        setTimeout(() => {
          toast.classList.remove("show");
          toast.classList.add("hidden");
        }, duration);
      }

      // Save/Load Cart
      function saveCart() {
        const cartData = JSON.stringify(cart);
        document.cookie = `cart=${cartData}; path=/; max-age=604800`;
      }

      function loadCart() {
        const cookies = document.cookie.split("; ");
        const cartCookie = cookies.find((c) => c.startsWith("cart="));
        if (cartCookie) {
          try {
            cart = JSON.parse(decodeURIComponent(cartCookie.split("=")[1]));
          } catch (e) {
            cart = [];
          }
        }
      }

      // Initialize on load
      init();
    </script>
  </body>
</html>
